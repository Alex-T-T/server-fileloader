# Build Stage
FROM node AS build

WORKDIR /app

COPY package*.json .

RUN npm ci

COPY . .

EXPOSE 8008

ENV POSTGRES_HOST=db
ENV POSTGRES_PORT=5432 
ENV POSTGRES_USER=banxso_test
ENV POSTGRES_PASSWORD=banxso_test
ENV POSTGRES_DB=banxso_test
ENV SERVER_PORT=8008
# ENV AWS_SECRET_ACCESS_KEY=
# ENV AWS_ACCESS_KEY_ID=
# ENV AWS_REGION=
# ENV S3_BUCKET_NAME=
# ENV ENCRYPTION_KEY=
# ENV UI_URL=

CMD ["npm", "run", "start-dev"]
